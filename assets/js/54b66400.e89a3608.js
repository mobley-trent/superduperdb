"use strict";(self.webpackChunknewdocs=self.webpackChunknewdocs||[]).push([[6750],{30815:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>a});var d=s(85893),c=s(11151);const t={sidebar_position:5},o="Encoding data",i={id:"docs/fundamentals/document_encoder_abstraction",title:"Encoding data",description:"In AI, typical types of data are:",source:"@site/content/docs/fundamentals/document_encoder_abstraction.md",sourceDirName:"docs/fundamentals",slug:"/docs/fundamentals/document_encoder_abstraction",permalink:"/docs/docs/fundamentals/document_encoder_abstraction",draft:!1,unlisted:!1,editUrl:"https://github.com/SuperDuperDB/superduperdb/blob/main/docs/hr/content/docs/fundamentals/document_encoder_abstraction.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Components",permalink:"/docs/docs/fundamentals/component_abstraction"},next:{title:"Predictors and models",permalink:"/docs/docs/fundamentals/predictors_and_models"}},r={},a=[{value:"<code>Document</code>",id:"document",level:3},{value:"<code>Encoder</code>",id:"encoder",level:3},{value:"<code>Schema</code>",id:"schema",level:3}];function l(e){const n={code:"code",h1:"h1",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.a)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.h1,{id:"encoding-data",children:"Encoding data"}),"\n",(0,d.jsx)(n.p,{children:"In AI, typical types of data are:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Numbers"})," (integers, floats, etc.)"]}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.strong,{children:"Text"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.strong,{children:"Images"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.strong,{children:"Audio"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.strong,{children:"Videos"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.strong,{children:"...bespoke in house data"})}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:["Most databases don't support any data other than numbers and text.\nSuperDuperDB enables the use of these more interesting data-types using the ",(0,d.jsx)(n.code,{children:"Document"})," wrapper."]}),"\n",(0,d.jsx)(n.h3,{id:"document",children:(0,d.jsx)(n.code,{children:"Document"})}),"\n",(0,d.jsxs)(n.p,{children:["The ",(0,d.jsx)(n.code,{children:"Document"})," wrapper, wraps dictionaries, and is the container which is used whenever\ndata is exchanged with your database. That means inputs, and queries, wrap dictionaries\nused with ",(0,d.jsx)(n.code,{children:"Document"})," and also results are returned wrapped with ",(0,d.jsx)(n.code,{children:"Document"}),"."]}),"\n",(0,d.jsxs)(n.p,{children:["Whenever the ",(0,d.jsx)(n.code,{children:"Document"})," contains data which is in need of specialized serialization,\nthen the ",(0,d.jsx)(n.code,{children:"Document"})," instance contains calls to ",(0,d.jsx)(n.code,{children:"Encoder"})," instances."]}),"\n",(0,d.jsx)(n.h3,{id:"encoder",children:(0,d.jsx)(n.code,{children:"Encoder"})}),"\n",(0,d.jsxs)(n.p,{children:["The ",(0,d.jsx)(n.code,{children:"Encoder"})," class, allows users to create and encoder custom datatypes, by providing\ntheir own serializers."]}),"\n",(0,d.jsxs)(n.p,{children:["Here is an example of applying an ",(0,d.jsx)(n.code,{children:"Encoder"})," to add an image to a ",(0,d.jsx)(n.code,{children:"Document"}),":"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"import pickle\nimport PIL.Image\nfrom superduperdb import Encoder, Document\n\nimage = PIL.Image.open('my_image.jpg')\n\nmy_image_encoder = Encoder(\n    identifier='my-pil',\n    encoder=lambda x: pickle.dumps(x),\n    decoder=lambda x: pickle.loads(x),\n)\n\ndocument = Document({'img': my_image_encoder(image)})\n"})}),"\n",(0,d.jsxs)(n.p,{children:["The bare-bones dictionary may be exposed with ",(0,d.jsx)(n.code,{children:".unpack()"}),":"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:">>> document.unpack()\n{'img': <PIL.PngImagePlugin.PngImageFile image mode=P size=400x300>}\n"})}),"\n",(0,d.jsx)(n.h3,{id:"schema",children:(0,d.jsx)(n.code,{children:"Schema"})}),"\n",(0,d.jsxs)(n.p,{children:["A ",(0,d.jsx)(n.code,{children:"Schema"})," allows developers to connect named fields of dictionaries\nor columns of ",(0,d.jsx)(n.code,{children:"pandas.DataFrame"})," objects with ",(0,d.jsx)(n.code,{children:"Encoders"}),"."]}),"\n",(0,d.jsxs)(n.p,{children:["A ",(0,d.jsx)(n.code,{children:"Schema"})," is used, in particular, for SQL databases/ tables, and for\nmodels that return multiple outputs."]}),"\n",(0,d.jsxs)(n.p,{children:["Here is an example ",(0,d.jsx)(n.code,{children:"Schema"}),", which is used together with text and image\nfields:"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"s = Schema('my-schema', fields={'my-text': 'str', 'my-image': my_image_encoder})\n"})})]})}function h(e={}){const{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(l,{...e})}):l(e)}},11151:(e,n,s)=>{s.d(n,{Z:()=>i,a:()=>o});var d=s(67294);const c={},t=d.createContext(c);function o(e){const n=d.useContext(t);return d.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:o(e.components),d.createElement(t.Provider,{value:n},e.children)}}}]);